buildscript {
    ext {
        grailsVersion = project.grailsVersion
    }
    repositories {
        mavenLocal()
        maven { url "https://repo.grails.org/grails/core" }
    }
    dependencies {
        classpath "org.grails:grails-gradle-plugin:$grailsVersion"
    }
}

ext {
    userOrg = "grails"
}

group 'org.grails'
version '1.0.0.BUILD-SNAPSHOT'

apply plugin: 'groovy'
apply plugin: "org.grails.grails-plugin-publish"

grailsPublish {
    userOrg = 'grails'
    githubSlug = 'grails/grails-wrapper'
    license {
        name = 'Apache-2.0'
    }
    title = "Grails Wrapper"
    desc = "Prevents having to download Grails installations for existing projects"
    developers = [jameskleeh:"James Kleeh"]
}

bintray {
    pkg {
        desc = "Grails Wrapper"
        name = 'grails-wrapper'
    }
}

repositories {
    mavenLocal()
    mavenCentral()
    maven { url "https://repo.grails.org/grails/core" }
}

dependencies {
    compile 'org.codehaus.groovy:groovy:2.4.7'
    compile "org.springframework.boot:spring-boot-cli:1.4.0.RELEASE"
    compile 'org.codehaus.groovy:groovy-ant:2.4.7'
}

jar {
    from {
        (configurations.runtime).collect {
            it.isDirectory() ? it : zipTree(it)
        }
    }
    manifest {
        attributes 'Main-Class': 'grails.init.RunCommand'
    }
}